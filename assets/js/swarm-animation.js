!function(){"use strict";function t(){return getComputedStyle(document.body).backgroundColor||"rgba(245, 245, 245, 0.3)"}function i(){n.width=window.innerWidth,n.height=window.innerHeight}function h(){if(null===o.x||null===o.y)return!1;let t=0;for(let i of y){const h=i.x-o.x,s=i.y-o.y;t+=Math.sqrt(h*h+s*s)}return t/y.length<M}function s(){return o.x===r.x&&o.y===r.y?l++:l=0,r.x=o.x,r.y=o.y,l>m}function e(i){const o=i-w;w=i;const r=o/g,l=t();if(l.startsWith("rgb(")){const t=l.match(/\d+/g);a.fillStyle=`rgba(${t[0]}, ${t[1]}, ${t[2]}, 0.3)`}else if(l.startsWith("rgba(")){const t=l.match(/[\d.]+/g);a.fillStyle=`rgba(${t[0]}, ${t[1]}, ${t[2]}, 0.3)`}else a.fillStyle="rgba(245, 245, 245, 0.3)";a.fillRect(0,0,n.width,n.height);const x=s(),c=h();let M=0;d&&x&&c?(v+=u*r,M=Math.sin(v)):v=0;for(let t of y)t.update(y,M,r),t.draw(M);requestAnimationFrame(e)}if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.matchMedia&&window.matchMedia("(max-width: 768px)").matches||"ontouchstart"in window&&!window.matchMedia("(pointer: fine)").matches)return;const n=document.getElementById("swarm-canvas");if(!n)return;const a=n.getContext("2d");let o={x:null,y:null},r={x:null,y:null},l=0,d=!1;const y=[],x=50,c=.4;let v=0;const u=.02,M=100,m=60;let w=performance.now();const g=1e3/60;i(),window.addEventListener("resize",i),window.addEventListener("mousemove",t=>{o.x=t.clientX,o.y=t.clientY,d=!0}),document.addEventListener("mouseleave",()=>{d=!1,o.x=null,o.y=null}),document.addEventListener("mouseenter",()=>{d=!0});class f{constructor(){this.x=Math.random()*n.width,this.y=Math.random()*n.height,this.vx=2*(Math.random()-.5),this.vy=2*(Math.random()-.5),this.radius=12,this.maxSpeed=4,this.baseColor=200+40*Math.random(),this.wanderAngle=Math.random()*Math.PI*2}update(t,i,h=1){if(d&&null!==o.x&&null!==o.y){let h=0,s=0,e=0,a=0,r=0,l=0,d=0,y=0,x=0;for(let i of t){if(i===this)continue;const t=i.x-this.x,n=i.y-this.y,o=Math.sqrt(t*t+n*n);o<30&&(h-=t/o,s-=n/o,e++),o<60&&(a+=i.vx,r+=i.vy,l++),o<80&&(d+=i.x,y+=i.y,x++)}if(e>0&&(this.vx+=.05*h,this.vy+=.05*s),l>0&&(this.vx+=.02*(a/l-this.vx),this.vy+=.02*(r/l-this.vy)),x>0){const t=d/x,i=y/x;this.vx+=.001*(t-this.x),this.vy+=.001*(i-this.y)}const c=o.x-this.x,v=o.y-this.y,u=Math.sqrt(c*c+v*v);if(u>0){let t=.08;0!==i?i>0?(this.vx-=c/u*i*.25,this.vy-=v/u*i*.25):(this.vx+=c/u*Math.abs(i)*.15,this.vy+=v/u*Math.abs(i)*.15):(this.vx+=c/u*t,this.vy+=v/u*t)}const M=.8,m=this.radius;this.x<=m&&(this.x=m,this.vx*=-M),this.x>=n.width-m&&(this.x=n.width-m,this.vx*=-M),this.y<=m&&(this.y=m,this.vy*=-M),this.y>=n.height-m&&(this.y=n.height-m,this.vy*=-M)}else{this.wanderAngle+=.3*(Math.random()-.5),this.vx+=.02*Math.cos(this.wanderAngle),this.vy+=.02*Math.sin(this.wanderAngle);const i=.8,h=this.radius;this.x<=h&&(this.x=h,this.vx*=-i,this.wanderAngle=Math.random()*Math.PI-Math.PI/2),this.x>=n.width-h&&(this.x=n.width-h,this.vx*=-i,this.wanderAngle=Math.random()*Math.PI+Math.PI/2),this.y<=h&&(this.y=h,this.vy*=-i,this.wanderAngle=Math.random()*Math.PI),this.y>=n.height-h&&(this.y=n.height-h,this.vy*=-i,this.wanderAngle=-Math.random()*Math.PI);for(let i of t){if(i===this)continue;const t=i.x-this.x,h=i.y-this.y,s=Math.sqrt(t*t+h*h);s<25&&s>0&&(this.vx-=t/s*.03,this.vy-=h/s*.03)}}const s=this.maxSpeed+1*Math.abs(i),e=Math.sqrt(this.vx*this.vx+this.vy*this.vy);e>s&&(this.vx=this.vx/e*s,this.vy=this.vy/e*s),!d&&e<.5&&(this.vx+=.1*Math.cos(this.wanderAngle),this.vy+=.1*Math.sin(this.wanderAngle)),this.x+=this.vx*h,this.y+=this.vy*h}draw(t){const i=this.baseColor+30*t,h=50+10*t,s=this.radius+4*Math.abs(t);Math.abs(t)>.3&&(a.beginPath(),a.arc(this.x,this.y,2*s,0,2*Math.PI),a.fillStyle=`hsla(${i}, 70%, 50%, ${.3*c})`,a.fill()),a.beginPath(),a.arc(this.x,this.y,s,0,2*Math.PI),a.fillStyle=`hsla(${i}, 70%, ${h}%, ${c})`,a.fill();const e=Math.atan2(this.vy,this.vx);a.beginPath(),a.moveTo(this.x,this.y),a.lineTo(this.x+Math.cos(e)*s*2,this.y+Math.sin(e)*s*2),a.strokeStyle=`rgba(44, 62, 80, ${c})`,a.lineWidth=2,a.stroke()}}for(let t=0;t<x;t++)y.push(new f);"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>requestAnimationFrame(e)):requestAnimationFrame(e)}();